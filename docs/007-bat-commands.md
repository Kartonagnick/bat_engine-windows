
Строение Команды:
-----------------

Пример команды:  

```
    call "%eDIR_BAT_ENGINE%\run.bat" ^
        "--runTests: *.exe"          ^
        "--exclude: mingw*-dynamic"  ^
        "--configurations: all"
```

Команда может состоять из произвольного количества аргументов, в формате:  
`"--ИмяАргумента: ЗначениеАргумента"`

- Аргумент отделяется от других аргументов кавычками.  
- Аргументы начинаются с двойного тире.  
- Между двойным тире и двоеточием указывается `ИмяАргумента`.  
- После двоеточия указывается `ЗначениеАргумента`.  
- Из `ИмениАргумента` и `ЗначенияАргумента` удаляются обрамляющие пробелы.  
- Имя самого первого аргумента является `ИменемКоманды`.  
- Значением самого первого аргумента является `АргументомКоманды`.  
- Все остальные аргументы являются `АтрибутамиКоманды`

Имя команды:
------------

Совпадает и именем батника, который содержит логику работы команды.  
Что бы запустить команду на исполнение, движок просто запускает соответствующий батник.  
Такой подход позволяет легко добавлять новые команды.  
Что бы добавить новую команду, достаточно просто добавить соответствующий батник.  

`eCOMMAND_NAME` содержит имя исполняемой команды.  
`eCOMMAND_ARGUMENT` содержит аргумент исполняемой команды.  


Атрибуты команды:
-----------------

Атрибуты команды - это некоторая дополнительная информация, 
которая необходима командам для нормальной работы.  

Атрибуты бывают стандартными и нестандартными.  

Нестандартные атрибуты обратабываются непосредственно батником самой команды.  
Движок про них ничего не знает.


Стандартные атрибуты представляют собой минимальный набор данных, 
который нужен практически всем командам.  
Например, `eDIR_BUILD` содержит каталог, где выполняется сборка.  
Без этого знания не смогут отработать ни `--build`, ни `--clean`, 
ни многие другие команды.  

Стандартные атрибуты особым образом подгатавливаются движком в самом начале работы,
ещё до запуска  батника конкретной команды.  

Список стандартных атрибутов:

|      атрибут        |   переменная    |          обработка          |           значение         |    значение по умолчанию |
|:-------------------:|:---------------:|:---------------------------:|:--------------------------:|:------------------------:|
| [--dir_sources][3]  | eDIR_SOURCES    |  [expand][0]/[normalize][1] | каталог исходников         | [поиск по симптомам][2]  | 
| [--dir_build][4]    | eDIR_BUILD      |  [expand][0]/[normalize][1] | каталог для сборки проекта | настройки движка         | 
| [--dir_product][5]  | eDIR_PRODUCT    |  [expand][0]/[normalize][1] | каталог продуктов сборки   | настройки движка         |
| [--name_project][6] | eNAME_PROJECT   |              n/a            | имя проекта                | имя каталога исходников  | 
| --configurations    | eCONFIGURATIONS |              n/a            | список конфигураций        |
| --defines           | eDEFINES        |              n/a            | дефайны препроцессора      |

Список нестандартных атрибутов:

|     атрибут      |   переменная    |  команда   |           значение          |
|:----------------:|:---------------:|:----------:|:---------------------------:|
| --dir_cmake_list | eDIR_CMAKE_LIST | --generate | располоежние CMakeLists.txt |
| --exclude        | eEXCLUDE        | --runTest  | маска игнора для тестов     |

[0]: 009-bat-expand.md\#expand "макро-подстановка"  
[1]: 009-bat-expand.md\#normalize "приводит файловый путь к каноническому виду"  
[2]: 008-bat-symptoms.md\#Поиск-каталога-исходного-кода "поиск нужного каталога по наличию в нем определенных файлов или подкаталогов"  

[3]: #dir_sources "позволяет указать путь к каталогу с исходниками"   
[4]: #dir_build "позволяет указать путь к каталогу, где нужно осуществлять сборку"  
[5]: #dir_product "позволяет указать путь к каталогу, где нужно разместить результаты сборки"  
[6]: #name_project "позволяет указать имя проекта"  

dir_sources
-----------
- Позволяет указать путь к каталогу с исходниками.  
- По умолчанию выполняется [поиск по симпотомам][2]  
  - Если поиск потерпит неудачу, тогда движок немедленно завершит работу с ошибкой.  
- Полученный путь подвергается [expand][0]  
- А затем [нормализуется][1]  

dir_build
---------
- Позволяет указать путь к каталогу, где нужно осуществлять сборку.  
- По умолчанию используется значение, которое задаётся в настройках движка.  
- Полученный путь подвергается [expand][0]  
- А затем [нормализуется][1]  

dir_product
-----------
- Позволяет указать путь к каталогу, где нужно разместить результаты сборки.  
- По умолчанию используется значение, которое задаётся в настройках движка.  
- Полученный путь подвергается [expand][0]  
- А затем [нормализуется][1]  

name_project
-----------
- Позволяет указать имя проекта.  
- По умолчанию используется имя каталога исходников.  
