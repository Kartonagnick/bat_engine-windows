
Cписок поддерживаемых команд:  
-----------------------------

1) [запуск без аргументов](#Запуск-движка-без-аргументов "обновляет настройки движка")  
2) [--update](#--update "обновляет настройки движка")  
3) [--initial](#--initial "обновляет настройки и запчасти движка")  
4) [--version](#--version "печатает в консоль версию движка")  
5) [--generate](#--generate "генерирует MakeFiles для всех указанных конфигураций")  
6) [--build](#--build "выполняет сборку MakeFiles для всех указанных конфигураций")  
7) [--install](#--install "выполняет исталляцию результатов сборки для всех указанных конфигураций")  
8) [--clean](#--clean "удаление MakeFiles для всех указанных конфигураций")  
9) [--runTest](#--runTest "запускает тесты для указанных конфигураций")  

Запуск движка без аргументов  
----------------------------
Обновляет настройки.  
```
C:\bat_engine\engine\run.bat
```

--update  
--------
Тоже самое, что и запуск без аргументов: Обновление настроек.  
```
C:\bat_engine\engine\run.bat --update
```

--initial  
---------
Обновляет настройки движка, и все его запчасти.  
```
C:\bat_engine\engine\run.bat --initial
```

--version  
---------
Печатает в консоль версию движка.  
```
C:\bat_engine\engine\run.bat --version
```

--generate  
----------
Генерирует MakeFiles для всех указанных конфигураций.  
```
    call "%eDIR_BAT_ENGINE%\run.bat"      ^
        "--generate: cmake-makefiles"     ^
        "--dir_sources: C:\game"          ^
        "--dir_cmake_list: C:\game\cmake" ^
        "--dir_build:   C:\game\build"    ^
        "--dir_product: C:\game\product"  ^
        "--name_project: "game:"          ^
        "--configurations: all"           ^
        "--defines: STABLE_RELEASE"
```
Предполагается, что в будущем команда будет поддерживать множество генераторов.  
Однако, в настоящий момент поддерживается только работа с cmake.  
Поэтому, `АргументКоманды` должен быть `cmake-makefiles`.  

- `dir_sources` Задаёт путь к каталогу с исходниками.  
  По умолчанию выполняется поиск каталога [по симтомам][1].  

- `dir_cmake_list` Задаёт путь к каталогу, который содержит файл CMakeLists.txt  
  По умолчанию файл CMakeLists.txt ищется [по специальным правилам][2].  

- `dir_build` Задаёт путь к каталогу, где нужно осуществлять сборку.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `dir_product` задаёт путь к каталогу, где нужно разместить результаты сборки.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `name_project` Задаёт имя проекта.  
  По умолчанию используется имя каталога исходников.

- `configurations` Задаёт список [конфигураций][4].  
  По умолчанию используется значение `all`  

- `defines` Задаёт дефайны препроцессора.  
  Можно указать нескольок дефайнов, разделяя их точкой с запятой.  
  Пример: `--defines: KEY=1; NAME="hello"; STABLE`  

`Примечания` Запуск cmake можно [кастомизировать][6].


--build  
-------
Сборка MakeFiles для всех указанных конфигураций.  
```
    call "%eDIR_BAT_ENGINE%\run.bat"      ^
        "--build: cmake-makefiles"        ^
        "--dir_sources: C:\game"          ^
        "--dir_cmake_list: C:\game\cmake" ^
        "--dir_build:   C:\game\build"    ^
        "--dir_product: C:\game\product"  ^
        "--name_project: "game:"          ^
        "--configurations: all"           ^
        "--defines: STABLE_RELEASE"
```
Предполагается, что в будущем команда будет поддерживать множество генераторов.  
Однако, в настоящий момент поддерживается только работа с cmake.  
Поэтому, `АргументКоманды` должен быть `cmake-makefiles`.  

- `dir_sources` Задаёт путь к каталогу с исходниками.  
  По умолчанию выполняется поиск каталога [по симтомам][1].  

- `dir_cmake_list` Задаёт путь к каталогу, который содержит файл CMakeLists.txt  
  По умолчанию файл CMakeLists.txt ищется [по специальным правилам][2].  

- `dir_build` Задаёт путь к каталогу, где нужно осуществлять сборку.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `dir_product` задаёт путь к каталогу, где нужно разместить результаты сборки.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `name_project` Задаёт имя проекта.  
  По умолчанию используется имя каталога исходников.

- `configurations` Задаёт список [конфигураций][4].  
  По умолчанию используется значение `all`  

- `defines` Задаёт дефайны препроцессора.  
  Можно указать нескольок дефайнов, разделяя их точкой с запятой.  
  Пример: `--defines: KEY=1; NAME="hello"; STABLE`  

`Примечание` Для каждой конфигурации предварительное запускается --generate.  
`Примечания` Запуск можно [кастомизировать][6].

--install  
---------
Инсталяция результатов сборки для всех указанных конфигураций.  
```
    call "%eDIR_BAT_ENGINE%\run.bat"      ^
        "--build: cmake-makefiles"        ^
        "--dir_sources: C:\game"          ^
        "--dir_cmake_list: C:\game\cmake" ^
        "--dir_build:   C:\game\build"    ^
        "--dir_product: C:\game\product"  ^
        "--name_project: "game:"          ^
        "--configurations: all"           ^
        "--defines: STABLE_RELEASE"
```
Предполагается, что в будущем команда будет поддерживать множество генераторов.  
Однако, в настоящий момент поддерживается только работа с cmake.  
Поэтому, `АргументКоманды` должен быть `cmake-makefiles`.  

- `dir_sources` Задаёт путь к каталогу с исходниками.  
  По умолчанию выполняется поиск каталога [по симтомам][1].  

- `dir_cmake_list` Задаёт путь к каталогу, который содержит файл CMakeLists.txt  
  По умолчанию файл CMakeLists.txt ищется [по специальным правилам][2].  

- `dir_build` Задаёт путь к каталогу, где нужно осуществлять сборку.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `dir_product` задаёт путь к каталогу, где нужно разместить результаты сборки.  
  По умолчанию используется значение [из настроек движка][3].  
  `Примечание` К данному пути в дальнейшем будет ещё добавлен [суффикс][3].  

- `name_project` Задаёт имя проекта.  
  По умолчанию используется имя каталога исходников.

- `configurations` Задаёт список [конфигураций][4].  
  По умолчанию используется значение `all`  

- `defines` Задаёт дефайны препроцессора.  
  Можно указать нескольок дефайнов, разделяя их точкой с запятой.  
  Пример: `--defines: KEY=1; NAME="hello"; STABLE`  

`Примечание` Для каждой конфигурации предварительное запускает --build.  
`Примечания` Запуск можно [кастомизировать][6].

--clean  
---------
Удаляет MakeFile для всех указанных конфигураций.  
```
    call "%eDIR_BAT_ENGINE%\run.bat" ^
        "--clean: all"               ^
        "--configurations: all"      ^
```
- `АргументКоманды` Задает список [конфигураций][4], которые нужно почистить.  
  По умолчанию не используется. 

- `configurations` Задаёт список [конфигураций][4], которые нужно почистить.  
  По умолчанию используется значение `all`  

`Примечание`  
Если заданы оба значения: и `АргументКоманды`, и `configurations`, 
тогда используется значение `configurations`.  

--runTest  
---------
Запускает тесты для указанных конфигураций.  
```
    call "%eDIR_BAT_ENGINE%\run.bat" ^
        "--runTests: *.exe"          ^
        "--exclude: mingw*-dynamic;msvc2013*"  ^
        "--configurations: all"
```
- `АргументКоманды` Задаёт список [файловых масок][5], 
   определяющих какие тестовые программы нужно запустить.  
   По умолчанию: `*.exe`  

- `exclude` Задаёт список [файловых масок][4], определяющих, 
  какие тестовые программы нужно исключить из запуска.  
  По умолчанию значение не используется.

`Примечание`  
В корневом каталоге исходного кода может находиться файл 
[project.root](005-project_root.md "определяет глобальные свойства проекта")  
В этом файле, в переменных `INCLUDE_CONFIGURATIONS` и `EXCLUDE_CONFIGURATIONS` 
задаются ограничения поддерживаемых конфигураций.  
Итоговый список конфигураций,
для которых будет произведен запуск тестовых программ,
формируется с учетом этих ограничений.  


[1]: ../dev/006-find.md/#Поиск-каталога-исходного-кода "поиск каталога, который содержит опреленные файлы или подкаталоги"  
[2]: ../dev/006-find.md/#Поиск-CMakeListstxt "поиск каталога, который содержит CMakeLists.txt"  
[3]: 001-settings.md/#Форматирование-файловых-путей "настройки движка"  
[4]: 003-request.md/#Язык-описания-конфигураций "язык описания конфигураций"  
[5]: ../dev/007-mask.md/#Файловая-маска "определение файловой маски"  
[6]: 004-customize.md/#Кастомизация-запуска-cmake "кастомизация запуска cmake"  



