
Язык описания конфигураций
--------------------------

Язык описания конфигураций позволяет указать множество конфигураций, 
без необходимости перечислять их все вручную.


Конфигурации задаются в виде списка, элементы которого разделены точкой-с-запятой.  
Например: `msvc; mingw; clang`  - это сокращенная форма записи без указания конкретных тэгов.  



Каждая конкретная конфигурация задаётся в виде набора  из четырех тэгов:  
`{COMPILER}:{BIT}:{TYPE}:{CRT}`  
Например: `msvc2019:64:debug:static` означает:  
нужна сборка для компилятора Visual Studio 2019, 
64х битная, отладочная, со статическим рантаймом.  

- Первый тэг: определяет имя компилятора и версию: `msvc`, `msvc2019`, `msvc-all`  
- Второй тэг: определяет битность: `32` или `64`, или `all`  
- Теритий тэг: определяет тип сборки: `debug` или `release`, или `all`  
- Четвертый тэг: определяет спсоб линковски с рантайм с++: `dynamic` или `static`, или `all`  



Тэги можно не указывать.  
По умолчанию используется значение `all`  
Например, в конфигурации: `msvc` опущены 3 правостоящих тэга: `msvc:all:all:all`  

Тэг `all` означает, что нужны конфигурации всех вариантов некоторого тэга.  

Например: `msvc2019:64:debug:all` означает, что нужны конфигурации и `dynamic`, и `static`
- `msvc2019:64:debug:static`  
- `msvc2019:64:debug:dynamic`  


А запрос: `msvc2019:all:debug:all` означает 4ре конфигурации:  
- `msvc2019:64:debug:static`  
- `msvc2019:64:debug:dynamic`  
- `msvc2019:32:debug:static`  
- `msvc2019:32:debug:dynamic`  


А такой запрос: `msvc2019:all:all:all` разворачивается в 8мь конфигураций:
- `msvc2019:64:release:static`  
- `msvc2019:64:release:dynamic`  
- `msvc2019:64:debug:static`  
- `msvc2019:64:debug:dynamic`  
- `msvc2019:32:release:static`  
- `msvc2019:32:release:dynamic`  
- `msvc2019:32:debug:static`  
- `msvc2019:32:debug:dynamic`  


Самый первый тэг: `COMPILER` может задаваться в формате:  
- `{COMPILER}`          - самый новый компилятор.  
- `{COMPILER}{Версия}`  - компилятор указанной версии.  
- `{COMPILER}-{Версия}` - компилятор указанной версии.  
- `{COMPILER}All`       - все версии указанного компилятора.  
- `{COMPILER}-All`      - все версии указанного компилятора.  

Таблица допустимых значений для тэгов:

|    тэг   | значение  |         описание                     |
|:--------:|:---------:|:------------------------------------:|
| COMPILER | all       | все компиляторы                      |
| COMPILER | msvc      | самый новый компилятор visual studio |
| COMPILER | mingw     | самый новый компилятор mingw         |
| COMPILER | msvc-ALL  | все компиляторы visual studio        |
| COMPILER | mingw-ALL | все компиляторы mingw                |
| COMPILER | msvc2019  | компилятор visual studio 2019        |
| COMPILER | msvc-2019 | компилятор visual studio 2019        |
| COMPILER | mingw810  | компилятор mingw 810                 |
| COMPILER | mingw-810 | компилятор mingw 810                 |


|    тэг   | значение  |         описание                     |
|:--------:|:---------:|:------------------------------------:|
| BIT      | all       | все версии: и 32, и 64               |
| BIT      | 32        | только 32 битная версия              |
| BIT      | 64        | только 64 битная версия              |

|    тэг   | значение  |         описание                     |
|:--------:|:---------:|:------------------------------------:|
| TYPE     | all       | все версии: и отладочная, и релиз    |
| TYPE     | debug     | только отладочная                    |
| TYPE     | release   | только релиз                         |

|    тэг   | значение  |         описание                     |
|:--------:|:---------:|:------------------------------------:|
| CRT      | all       | и статическая, и динамическая        |
| CRT      | dynamic   | только динамическая линковка с crt   |
| CRT      | static    | только статическая линковка с crt    |


Диапазоны допустимых значений
-----------------------------
Задаются в переменных в файле `_cache\settings_{USER}-{COMPUTER}.bat`  
```
set "eALL_COMPILERS=msvc mingw" 
set "eALL_ADDRESS_MODELS=32 64" 
set "eALL_BUILD_TYPES=debug release" 
set "eALL_RUNTIME_CPPS=dynamic static" 
```

Сортировка итогового списка конфигураций
----------------------------------------

Исходная строка запрошенных конфигураций 
разворачивается в итоговый список конкретных конфигураций.  
Конфигурации в этом списке сортируются по следующему принципу:  

1. Сначала все конфигурации группируются по названию компилятора, 
в соответсвии со значением переменной `eALL_COMPILERS`  
Если первой в списке идет msvc, то и в итоговом списке msvc так же будут идти первыми.  

2. Затем, по аналогии, сортировка идет по второму тэгу, в соответствии с `eALL_ADDRESS_MODELS`  
2. Затем - по третьму тэгу, в соответствии с `eALL_BUILD_TYPES`  
3. Затем - по четвертому тэгу, в соответствии с `eALL_RUNTIME_CPPS`  

